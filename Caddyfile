{
    email brandon.xu@wsu.edu
}

unstable.wepp.cloud {
    root * /app/client/build

    route {
        # Proxy API/admin/backend routes to Django
        @backend path /api/* /admin/* /silk/*
        reverse_proxy @backend server:8000

        # Serve frontend files
        try_files {path} /index.html
        file_server
    }
    
    # Security headers
    header {
        Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
    }
}